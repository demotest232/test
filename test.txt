public void generateDiffFile(final File diffFile,
                             final String fromTag,
                             final String toTag,
                             final String compPath) throws Exception {

    GHRepository repo = gitUtil.getRepository(
            inputData.getGitOrgName(),
            inputData.getGitDbScriptProjectId()
    );

    GHCompare compare = repo.getCompare(fromTag, toTag);
    List<GHCommit.File> diffs = compare.getFiles();

    for (GHCommit.File diff : diffs) {
        String newPath = diff.getFileName();

        if (newPath.substring(newPath.lastIndexOf(IConstants.URL_SEPARATOR) + 1)
                .equalsIgnoreCase(diffFile.getName())) {

            GHContent content = repo.getFileContent(newPath, toTag);

            try (InputStream in = content.read();
                 OutputStream os = new FileOutputStream(diffFile, false)) {
                os.write(in.readAllBytes()); // save full file content
            }
        }
    }
}
