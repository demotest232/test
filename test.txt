public List<String> getDiffFiles(String[] tags,
                                 String compPath,
                                 List<String> filesAdded,
                                 final String[] excludedFolders) throws IOException {

    List<String> filesModified = new ArrayList<>();

    // Get repo
    GHRepository repo = gitUtil.getRepository();

    // Compare two tags (tags[0] vs tags[1])
    GHCompare compare = repo.getCompare(tags[0], tags[1]);

    // Iterate through changed files
    for (GHCommit.File diff : compare.getFiles()) {
        boolean excludeInd = false;

        // Skip deleted files
        if ("removed".equalsIgnoreCase(diff.getStatus())) {
            continue;
        }

        // Apply excluded folder logic
        if (excludedFolders != null) {
            for (String excludedFolder : excludedFolders) {
                if (diff.getFileName().contains(excludedFolder)) {
                    excludeInd = true;
                    break;
                }
            }
        }

        if (!excludeInd) {
            String filePath = diff.getFileName();

            if (filePath.contains("Packages")) {
                // do nothing
            } else if (filePath.contains("Grants")) {
                filesModified.add(filePath);
            } else {
                filesModified.add(filePath.substring(Math.min(19, filePath.length())));
            }
        }

   
        if ((filesAdded != null) && "added".equalsIgnoreCase(diff.getStatus())) {
            String filePath = diff.getFileName();
            filesAdded.add(filePath.substring(Math.min(19, filePath.length())));
        }
    }

    return filesModified;
}
